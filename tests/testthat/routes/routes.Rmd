---
title: "GitHub API as documented by node-github.js"
output: github_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, comment = "#>", collapse = TRUE)
```

`routes.json` obtained from:

https://github.com/mikedeboer/node-github/blob/master/lib/routes.json

Suggestion to consider this as basis for gh tests from:

https://github.com/r-pkgs/gh/issues/8

```{r}
library(tidyverse)
pdf <- readRDS("endpoints.rds")
pdf_print <- pdf %>%
  mutate(method_url_description = paste(method, url),
         method_url_description = paste(method_url_description,
                                        description, sep = "<br>")) %>% 
  select(-method, -url, -description) %>% 
  select(section, method_url_description, everything())
comma_collapse <- function(x) paste(x, collapse = ", ")
pdf_print <- pdf_print %>%
  mutate(params2 = map_chr(params, comma_collapse),
         url_params = map_chr(url_params, comma_collapse),
         other_params = map_chr(other_params, comma_collapse)) %>% 
  select(-params) %>% 
  mutate(params = paste0("**params:** ", params2, sep = ": "),
         url_params = paste0("**url_params:** ", url_params),
         other_params = paste0("**other_params:** ", other_params)) %>% 
  mutate(params = paste(params, url_params, other_params, sep = "<br>")) %>% 
  select(section, method_url_description, params)
if (interactive()) View(pdf_print)
knitr::kable(pdf_print)
```

